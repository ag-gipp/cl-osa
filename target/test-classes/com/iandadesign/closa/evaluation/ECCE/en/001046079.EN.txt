In threatening to revoke the status of Ecuador's embassy in order to arrest Julian Assange on the premises, Britain has scored a diplomatic own goal.
For two months, the WikiLeaks founder has been holed up in the ground-floor flat in Knightsbridge, while police wait outside to enforce an order for his extradition to Sweden.
Ecuador's decision yesterday to grant him asylum has done nothing to change his state of limbo.
Mr Assange may not deserve such political protection, given that he faces criminal allegations of sexual assault that would not usually qualify him for refugee status.
Yet Ecuador's populist president Rafael Correa, ever ready to rail at American imperialism, is able to argue that Mr Assange could later face an extradition request from the US and charges of spying.
In heavy-handedly threatening the embassy's status, Britain risks fuelling perceptions that it is abetting a US-led conspiracy against Mr Assange.
The Foreign Office says it is simply acting on an obligation to enforce a European arrest warrant.
However, the 1987 legislation it cites, passed not long after a gun fired from within the Libyan embassy killed the policewoman Yvonne Fletcher, was clearly designed to deal with more serious threats to public order.
Invoking it now would invite legal challenge.
Perhaps more important, it would also set a risky precedent that could be used against British embassies abroad.
International law stipulates that diplomatic missions are inviolate, and to break this – with whatever legal justification – invites retaliation.
Moreover, the attempt to put pressure on Quito has backfired badly on Britain's image in Latin America.
Mr Correa's retort that “we are not a British colony” is already being echoed by protesters and will resonate in Argentina – as well as with Ecuador's leftist allies, Venezuela and Cuba.
Britain's inability to extradite Mr Assange is awkward, but it is not worth sustaining this degree of diplomatic damage.
Both Quito and London have now backed themselves into a corner: Ecuador by offering asylum it cannot in practice provide, Britain by threatening legal action it might not be able to make stick.
A far simpler strategy would be to sit it out.
József Mindszenty, a Hungarian cardinal who opposed communism, lived in the US embassy in Budapest for 15 years.
Mr Assange is by all accounts a prickly character.
Surely he would try his hosts' patience before then?